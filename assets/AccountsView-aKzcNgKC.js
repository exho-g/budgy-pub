import{X as B,_ as S,P as T}from"./FAB-DfqKyMJw.js";import{_ as E}from"./SubPageLayout-C-yJ_wI8.js";import{_ as M}from"./Modal-CVwSb8le.js";import{_ as C}from"./RadioField-BYfUCRXL.js";import{_ as k}from"./SelectField-DRYfb3B_.js";import{_ as y}from"./TextField-CP-1NCxw.js";import{r as x,z as F,a as V,o as d,w as g,e as s,b as o,k as _,F as w,H as L,u as f,t as v,J as N,m as A,l as q,p as O,I as U,f as D,g as W,i as j}from"./index-CvJCmTcD.js";import{T as P}from"./trash-2-CNtOFWkA.js";import{g as $}from"./useIconGetter-BffgHyQ9.js";const z={class:"my-4 flex gap-2 justify-around"},I="accounts",J={__name:"Form",props:{account:{type:Object,default:null}},emits:["close"],setup(r,{emit:c}){const i=r,m=c,n={id:null,name:"",cardType:"",type:"Debit",creditLimit:0,balance:0,amount:0,bank:"",statementDay:1,comment:""},t=x({...n});F(()=>i.account,u=>{t.value=u!=null&&u.id?{...u}:{...n}},{immediate:!0});const p=async u=>{var a;u.preventDefault();const l=JSON.parse(JSON.stringify(t.value));l.id||delete l.id;const e=await L(I,l);e.success?((a=document.querySelector("#manage-accounts-form"))==null||a.close(),m("close")):console.log(e.error)};return(u,l)=>(d(),V(M,{id:"manage-accounts-form",modalTitle:`${t.value.id?"Edit":"Add an"} Account`,isForm:"",submit:p,closeLabel:"Cancel"},{default:g(()=>[s(y,{label:"Account Name",modelValue:t.value.name,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value.name=e),modelModifiers:{trim:!0},noMaxW:"",required:"",placeholder:"Bank Savings...",maxLength:"50"},null,8,["modelValue"]),o("div",z,[s(C,{modelValue:t.value.type,"onUpdate:modelValue":l[1]||(l[1]=e=>t.value.type=e),value:"Debit",name:"account-type"},null,8,["modelValue"]),s(C,{modelValue:t.value.type,"onUpdate:modelValue":l[2]||(l[2]=e=>t.value.type=e),value:"Credit",name:"account-type"},null,8,["modelValue"])]),t.value.type=="Debit"?(d(),V(y,{key:0,label:"Current Amount",modelValue:t.value.amount,"onUpdate:modelValue":l[3]||(l[3]=e=>t.value.amount=e),type:"number",steps:"0.01",noMaxW:"",placeholder:"15000.00",min:"0"},null,8,["modelValue"])):(d(),_(w,{key:1},[s(y,{label:"Credit Limit",modelValue:t.value.creditLimit,"onUpdate:modelValue":l[4]||(l[4]=e=>t.value.creditLimit=e),type:"number",steps:"0.01",noMaxW:"",placeholder:"15000.00",required:""},null,8,["modelValue"]),s(y,{label:"Current Balance",modelValue:t.value.balance,"onUpdate:modelValue":l[5]||(l[5]=e=>t.value.balance=e),type:"number",steps:"0.01",noMaxW:"",placeholder:"5000.00",required:""},null,8,["modelValue"]),s(y,{label:"Statement Day",modelValue:t.value.statementDay,"onUpdate:modelValue":l[6]||(l[6]=e=>t.value.statementDay=e),type:"number",min:"1",max:"30",noMaxW:"",placeholder:"1",required:""},null,8,["modelValue"])],64)),s(k,{label:"Card Type",modelValue:t.value.cardType,"onUpdate:modelValue":l[7]||(l[7]=e=>t.value.cardType=e),noMaxW:"",required:"",options:[{label:"Visa"},{label:"Mastercard"},{label:"JCB"},{label:"American Express"},{label:"Other"}]},null,8,["modelValue"]),s(k,{label:"Bank or e-Wallet Name",modelValue:t.value.bank,"onUpdate:modelValue":l[8]||(l[8]=e=>t.value.bank=e),noMaxW:"",required:"",options:[{label:"Bank of Commerce"},{label:"BDO"},{label:"BPI"},{label:"EastWest Bank"},{label:"Metrobank"},{label:"UnionBank"},{label:"GCash"},{label:"Maya"},{label:"Paypal"},{label:"S1lkPay"},{label:"Other"}]},null,8,["modelValue"]),s(y,{label:"Comment (Optional)",modelValue:t.value.comment,"onUpdate:modelValue":l[9]||(l[9]=e=>t.value.comment=e),modelModifiers:{trim:!0},noMaxW:"",placeholder:"Perks, usage, etc..."},null,8,["modelValue"])]),_:1},8,["modalTitle"]))}},R={class:"mt-2 mb-4 text-center"},G={class:"mt-1 space-y-4 text-center"},H={class:"text-balance"},X={class:"font-bold text-balance"},K="accounts",Q={__name:"DeleteForm",props:{account:{type:Object,default:null}},emits:["close"],setup(r,{emit:c}){const i=r,m=c,n=async t=>{var p;t.preventDefault(),i.account&&(await N(K,i.account.id),(p=document.querySelector("#delete-account-form"))==null||p.close(),m("close"))};return(t,p)=>(d(),V(M,{id:"delete-account-form",modalTitle:"Delete Account",isForm:"",isDanger:"",submit:n,formButtonLabel:"Confirm",closeLabel:"Cancel"},{default:g(()=>{var u,l;return[o("p",R,[s(f(P),{size:"54",class:"inline-block text-error"})]),o("div",G,[o("p",H," Are you sure you want to delete this "+v((u=r.account)==null?void 0:u.type.toLowerCase())+" account? ",1),o("p",X,v((l=r.account)==null?void 0:l.name),1)])]}),_:1}))}},Y={class:"list bg-base-100 rounded-box shadow-md mb-6"},Z={class:"p-4 pb-2 text-xs opacity-60 tracking-wide"},ee=["onClick"],te={class:"h-full w-10"},le=["src"],ae={class:"flex gap-2 items-center mt-1"},oe={class:"text-xs uppercase font-semibold opacity-60"},ne={class:"h-4 w-6"},se=["src"],ue=["onClick"],re={key:0},ce={class:"p-2"},ie={class:"alert alert-warning alert-soft"},h={__name:"List",props:["accounts","type"],emits:["form","delete"],setup(r){return(c,i)=>{var m;return d(),_("ul",Y,[o("li",Z,v(r.type)+" Accounts",1),(d(!0),_(w,null,q(r.accounts,n=>(d(),_("li",{class:"list-row flex justify-between items-center hover:bg-base-300 select-none",key:n.id},[o("div",{onClick:t=>c.$emit("form",n),class:"flex gap-4 w-full items-center"},[o("div",te,[o("img",{class:"w-full h-full object-contain object-center",src:f($)(n.bank)},null,8,le)]),o("div",null,[o("div",null,v(n.name),1),o("div",ae,[o("div",oe,v(f(O)(n.type=="Debit"?n.amount:n.creditLimit)),1),o("div",ne,[o("img",{class:"w-full h-full object-contain object-center",src:f($)(n.cardType)},null,8,se)])])])],8,ee),o("button",{class:"btn btn-square btn-sm btn-ghost text-error",onClick:t=>c.$emit("delete",n)},[s(f(B),{size:"16"})],8,ue)]))),128)),(m=r.accounts)!=null&&m.length?A("",!0):(d(),_("li",re,[o("div",ce,[o("div",ie,[s(f(U),{size:"16"}),o("span",null,"No "+v(r.type.toLowerCase())+" accounts yet",1)])])]))])}}},me="accounts",ge={__name:"AccountsView",setup(r){const c=x([]),i=x(null),m=async()=>{c.value=await j(me)},n=(e=null)=>{var a;i.value=e,(a=document.querySelector("#manage-accounts-form"))==null||a.showModal()},t=e=>{var a;i.value=e,(a=document.querySelector("#delete-account-form"))==null||a.showModal()},p=()=>{m()},u=D(()=>c.value.filter(e=>e.type==="Credit").sort((e,a)=>e.name.localeCompare(a.name))),l=D(()=>c.value.filter(e=>e.type==="Debit").sort((e,a)=>e.name.localeCompare(a.name)));return W(()=>{m()}),(e,a)=>(d(),V(E,{pageTitle:"Accounts",isSubNav:""},{default:g(()=>[s(h,{type:"Debit",accounts:l.value,onForm:a[0]||(a[0]=b=>n(b)),onDelete:a[1]||(a[1]=b=>t(b))},null,8,["accounts"]),s(h,{type:"Credit",accounts:u.value,onForm:a[2]||(a[2]=b=>n(b)),onDelete:a[3]||(a[3]=b=>t(b))},null,8,["accounts"]),s(S,{icon:f(T),onClick:n},null,8,["icon"]),s(J,{account:i.value,onClose:p},null,8,["account"]),s(Q,{account:i.value,onClose:p},null,8,["account"])]),_:1}))}};export{ge as default};
